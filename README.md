# javascript-convenience-store-precourse

# 🍜 편의점 🥪
## 1️⃣ 기능 정리
### 1. 재고 수량 계산

1. 일반 재고 (products.md)
   - 고객이 **상품을 구매할 때마다**, **결제된 수량만큼 해당 상품의 재고에서 차감하여 수량을 관리**한다.
   - 파일 입출력을 이용하여 현재 재고를 계산한다.
2. 프로모션 재고 확인 (promotions.md)
   - **오늘 날짜가 프로모션 기간 내에 포함된 경우에만 할인**을 적용한다.
   - 프로모션 혜택은 **프로모션 재고 내에서 파일 입출력으로 재고를 계산한다.**

### **2.1. 사용자 구매 모션**

1. **환영 인사**와 함께 **상품명, 가격, 프로모션 이름, 재고**를 **안내**한다. 만약 **재고가 0개라면 `재고 없음`**을 출력한다.
2. 구매자의 상품 및 수량 입력

   ```jsx
   구매하실 상품명과 수량을 입력해 주세요. (예: [사이다-2],[감자칩-1])
   ```

3. **프로모션 적용이 가능한 상품에 대해 고객이 해당 수량만큼 가져오지 않았을 경**우, **혜택에 대한 안내 메시지**를 출력한다.

   ```
   현재 {상품명}은(는) 1개를 무료로 더 받을 수 있습니다. 추가하시겠습니까? (Y/N)

   ```

   - `Y`: **증정 받을 수 있는 상품을 추가**한다.
   - `N`: **증정 받을 수 있는 상품을 추가하지 않는다.**

4. **프로모션 재고가 부족하여 일부 수량을 프로모션 혜택 없이 결제해야 하는 경**우, **일부 수량에 대해 정가로 결제할지 여부에 대한 안내 메시지를 출력한다.**

   ```
   현재 {상품명} {수량}개는 프로모션 할인이 적용되지 않습니다. 그래도 구매하시겠습니까? (Y/N)

   ```

   - `Y`: **일부 수량에 대해 정가**로 결제한다.
   - `N`: **정가로 결제해야하는 수량만큼 제외한 후 결제**를 진행한다.

5. **멤버십 할인 적용 여부를 확인**하기 위해 안내 문구를 출력한다.

   ```css
   멤버십 할인을 받으시겠습니까? (Y/N)

   ```

   - `Y`: 멤버십 할인을 적용한다.
   - `N:` 멤버십 할인을 적용하지 않는다.

6. **사용자가 잘못된 값을 입력했을 때, "[ERROR]"로 시작하는 오류 메시지와 함께 상황에 맞는 안내를 출력한다.**
   - **구매할 상품**과 **수량 형식이 올바르지 않은** 경우: `[ERROR] 올바르지 않은 형식으로 입력했습니다. 다시 입력해 주세요.`
   - **존재하지 않는 상품**을 입력한 경우: `[ERROR] 존재하지 않는 상품입니다. 다시 입력해 주세요.`
   - 구매 수량이 **재고 수량을 초과**한 경우: `[ERROR] 재고 수량을 초과하여 구매할 수 없습니다. 다시 입력해 주세요.`
   - **기타 잘못된 입력의 경우**: `[ERROR] 잘못된 입력입니다. 다시 입력해 주세요.`

### **2.2 최종 결제 금액 계산**

1. 최종 구매 재고를 토대로 최종 구매 금액을 계산한다.
   - 사용자가 **입력한 상품**의 **가격과 수량**을 기반으로 **최종 결제 금액을 계산**한다.
     - **총구매액**은 상품별 **가격과 수량을 곱하여 계산한다.**
     - **할인 정책을 반영**하여 **최종 결제 금액**을 산출한다.
       - **프로모션 할인 (앞에서 프로모션 할인 진행)**
       - **멤버십 할인**
         - 멤버십 회원은 **프로모션 미적용 금액의 30%를 할인**받는다.
         - **프로모션** 적용 **후** **남은 금액**에 대해 **멤버십 할인을 적용**한다.
         - **멤버십 할인**의 **최대 한도는 8,000원**이다.
2. [ 영수증 출력] 구매 상품 내역, 증정 상품 내역, 금액 정보를 출력한다.
   - 영수증은 **고객의 구매 내역과 할인을 요약하여 출력**한다.
   - 영수증 항목은 아래와 같다.
     - **구매 상품 내역**: 구매한 상품명, 수량, 가격
     - **증정 상품 내역**: **프로모션**에 따라 **무료로 제공된 증정 상품의 목록**
     - **금액 정보**
       - **총구매액**: 구매한 상품의 총 수량과 총 금액
       - **행사할인**: **프로모션에 의해 할인**된 금액
       - **멤버십할인: 멤버십에 의해 추가로 할인**된 금액
       - **내실돈**: **최종 결제 금액**
     ```
     ==============W 편의점================
     상품명		수량	금액
     콜라		3 	3,000
     에너지바 		5 	10,000
     =============증	정===============
     콜라		1
     ====================================
     총구매액		8	13,000
     행사할인			-1,000
     멤버십할인			-3,000
     내실돈			 9,000

     ```
   - 영수증의 구성 요소를 보기 좋게 정렬하여 고객이 쉽게 금액과 수량을 확인할 수 있게 한다.

### **2.3. 추가 구매 여부 입력**

- **추가 구매 여부를 확인하기 위해 안내 문구를 출력한다.**

```css
감사합니다. 구매하고 싶은 다른 상품이 있나요? (Y/N)

```

- `Y`: 재고가 **업데이트된 상품 목록을 확인** 후 **추가로 구매를 진행**한다.
- `N`: **구매를 종료한다.**

```css
Y

```


## 2️⃣ 결과 정리

### 1. 실행 결과

- [product.md] 파일을 읽어와서 상품을 출력하고, 사용자가 입력한 상품과 개수를 계산한 뒤 프로모션을 적용해서 영수증을 출력합니다.
![image](https://github.com/user-attachments/assets/98ca96ad-c8b9-4a51-92bb-450fbdfed5bf)

### 2. 폴더 구조
- MVC 패턴을 적용하여, View와 비즈니스 로직을 분리했습니다.
- 입력부분과 비즈니스 로직을 분리한 건 처음이여서, 설계하는데 많은 어려움이 있었습니다.
  
![image](https://github.com/user-attachments/assets/a7048f19-8ece-4b1d-b272-1ae926c45f6b)



